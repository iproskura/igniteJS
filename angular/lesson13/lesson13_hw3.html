<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>Lesson 13 hw 3</title>

    <script src="../libs/angular.js"></script>
    <link href="../libs/bootstrap.css" rel="stylesheet"/>
    <link href="../libs/bootstrap-theme.css" rel="stylesheet"/>
    <style>
        form {
            max-width: 75%;
            margin: 5px;
        }

        form.ng-invalid {
            border: 1px double red;
        }

        form.ng-pristine {
            border: 1px dotted cornflowerblue;
        }

        form.ng-valid {
            border: 1px dotted #428bca;
            border-radius: 15%;
        }

        input.ng-invalid {
            background-color: pink;
        }

        input.ng-valid {
            background-color: lightgreen;
        }

        input.ng-untouched {
            background-color: skyblue;
        }

        div > div > span {
            font-size: 20px;
        }
    </style>
    <script>
        var app = angular.module("myApp", []);
        app.controller("mainCtrl", ["$scope", function ($scope) {

            $scope.nameRegex = /^.{3,10}$/;
            $scope.mailRegex = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]+$/;
            $scope.phoneRegex = /^[0-9]*$/;

            $scope.submitHandler = function () {
                alert("Sending data. Form is valid!")
            }
        }]);

    </script>
</head>
<body ng-controller="mainCtrl">
<form class="form-horizontal" name="myForm">
    <div class="form-group">
        <label class="control-label col-sm-2"></label>
        <div class="col-sm-3">
            <span>Form </span> <span ng-show="myForm.$valid">is valid</span></div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-2">Name</label>
        <div class="col-sm-3">
            <input ng-model="myName" type="text" class="form-control"
                   ng-pattern="nameRegex" required placeholder="3 to 10 chars"></div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">e-mail</label>
        <div class="col-sm-3">
            <input ng-model="myEmail" type="email" class="form-control"
                   ng-pattern="mailRegex" required name="email"></div>

        <!-- some other method -->
        <span ng-show="myForm.email.$error.email">Invalid email address.</span>
        <span ng-show="myForm.email.$error.required">Email is required.</span>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">phone</label>
        <div class="col-sm-3">
            <input ng-model="myTel" type="tel" class="form-control"
                   ng-pattern="phoneRegex"></div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">password</label>
        <div class="col-sm-3">
            <input ng-model="myPass1" type="password" class="form-control" required></div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">password again</label>
        <div class="col-sm-3">
            <input ng-model="myPass2" type="password" class="form-control" required ng-pattern="myPass1"></div>
    </div>
    <div class="col-sm-2"></div>
    <input class="btn btn-primary col-sm-2" type="submit" ng-disabled="myForm.$invalid" ng-click="submitHandler()">
</form>

</body>
</html>

<!--
###Задача 3
Создайте форму для регистрации нового пользователя. Форма должна содержать поля:
ФИО, email, телефон, пароль, подтверждение пароля. Реализуйте real-time валидацию пользовательского ввода.
-->
